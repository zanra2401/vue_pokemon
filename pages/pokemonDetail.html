<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/pokemonDetail.css">
</head>
<body>
    <header id="header">
        <img src="../assets/pokeballLogo.png" alt="logo" class="logo">
    </header>

    <main id="pokemon-detail">
        <div class="navigation">
            <span>
                <img class="pokeball-icon" src="../assets/pokeballLogo.png" alt="">
                <strong> {{ "#" + id }} </strong>
            </span>

            <span>
                <button @click="home()" class="home">
                    home
                </button>
                <button @click="prev()" v-if="id > 1" class="prev">
                    previous
                </button>
                <button @click="next()" v-if="id < 100000" class="next">
                    next
                </button>
            </span>
        </div>

        <div v-if="state.pageState == 'loading'" class="loading">
            <img src="../assets/loading.gif" alt="loading">
        </div>
        <div v-else class="main-content">
            <h1>{{ pokemon.name }}</h1>
            <div class="pokemon-section-1">
                <div id="pokemon-img" class="pokemon-img">

                    <h3 v-if="pokemon.male_sprites.length > 0">Default</h3>
                    <span v-if="pokemon.male_sprites.length > 0" class="sprite-container">
                        <img alt="pokemon.png" v-if="pokemon.male_sprites[1]" :src="pokemon.male_sprites[1]" alt="">
                        <img alt="pokemon.png" v-if="pokemon.male_sprites[0]" :src="pokemon.male_sprites[0]" alt="">
                    </span>

                    <h3 v-if="pokemon.female_sprites.length > 0">Female</h3>
                    <span v-if="pokemon.female_sprites.length > 0" class="sprite-container">
                        <img alt="pokemon.png" v-if="pokemon.male_sprites[1]" :src="pokemon.female_sprites[1]" alt="">
                        <img alt="pokemon.png" v-if="pokemon.male_sprites[0]" :src="pokemon.female_sprites[0]" alt="">
                    </span>

                    <h3 v-if="pokemon.shiny_male_sprites.length > 0">Shiny Male</h3>
                    <span v-if="pokemon.shiny_male_sprites.length > 0" class="sprite-container">
                        <img alt="pokemon.png" v-if="pokemon.male_sprites[1]" :src="pokemon.shiny_male_sprites[1]" alt="">
                        <img alt="pokemon.png" v-if="pokemon.male_sprites[0]" :src="pokemon.shiny_male_sprites[0]" alt="">
                    </span>

                    <h3 v-if="pokemon.shiny_female_sprites.length > 0">Shiny Female</h3>
                    <span v-if="pokemon.shiny_female_sprites.length > 0" class="sprite-container">
                        <img alt="pokemon.png" v-if="pokemon.male_sprites[1]" :src="pokemon.shiny_female_sprites[1]" alt="">
                        <img alt="pokemon.png" v-if="pokemon.male_sprites[0]" :src="pokemon.shiny_female_sprites[0]" alt="">
                    </span>
                </div>

                <div class="pokemon-section-2">
                    <div class="types">
                        <div 
                            v-for="type in pokemon.types" 
                            :style="{ backgroundColor: typeColors[type.type.name], color: 'white'}">
                            {{ type.type.name }}
                        </div>
                    </div>
                </div>

                <div class="stat-container">
                    <div class="stat">
                        <strong>
                            {{ pokemon.stats[0].stat.name + ":" }}
                        </strong>
                        <strong>
                            {{ pokemon.stats[0].base_stat }}
                        </strong>

                        <strong>
                            {{ pokemon.stats[1].stat.name + ":" }}
                        </strong>
                        <strong>
                            {{ pokemon.stats[1].base_stat }}
                        </strong>

                        <strong>
                            {{ pokemon.stats[2].stat.name + ":" }}
                        </strong>
                        <strong>
                            {{ pokemon.stats[2].base_stat }}
                        </strong>

                        <strong>
                            {{ pokemon.stats[3].stat.name + ":" }}
                        </strong>
                        <strong>
                            {{ pokemon.stats[3].base_stat }}
                        </strong>

                        <strong>
                            {{ pokemon.stats[4].stat.name + ":" }}
                        </strong>
                        <strong>
                            {{ pokemon.stats[4].base_stat }}
                        </strong>

                        <strong>
                            {{ pokemon.stats[5].stat.name + ":" }}
                        </strong>
                        <strong>
                            {{ pokemon.stats[5].base_stat }}
                        </strong>
                    </div>
                    <div>
                        <strong>
                            weight: 
                        </strong>
                        <strong>
                            {{ pokemon.weight / 10 }} kg
                        </strong>

                        <strong>
                            height: 
                        </strong>
                        <strong>
                            {{ pokemon.height / 10 }} m
                        </strong>

                        <strong style="column-span: 2;">
                            <audio controls>
                                <source :src="pokemon.cries.legacy">
                                Your browser does not support the audio element.
                            </audio>
                        </strong>
                    </div>
                </div>
            </div>

            <div class="pokemon-section-3">
                <table class="table-move">
                    <tr>
                        <th>move</th>
                        <th>type</th>
                        <th>power</th>
                        <th>acc</th>
                        <th>pp</th>
                    </tr>
    
                    <tr v-for="move in pokemon.moves">
                        <td>
                            {{ move.name }}
                        </td>

                        <td>
                                <div 
                                    :style="{ backgroundColor: typeColors[move.type.name], color: 'white'}">
                                    {{ move.type.name }}
                                </div>
                        </td>

                        <td>
                            {{ (move.power) ? move.power : "-" }}
                        </td>

                        <td>
                            {{ (move.accuracy) ? move.accuracy + "%" : "-" }}
                        </td>

                        <td>
                            {{ (move.pp) ? move.pp : "-" }}
                        </td>
                    </tr>
                </table>
            </div>

            <h3  v-if="pokemon.held_items.length > 0"  style="column-span: 2;">Held Items</h3>
            <div  v-if="pokemon.held_items.length > 0"  class="pokemon-section-4">
                <div v-for="item in pokemon.held_items" class="held-item">
                    <div class="item-img">
                        <img :src="item.sprite" alt="">
                    </div>
                    <strong>
                        {{ item.name }}
                    </strong>
                </div>
            </div>
        </div>

    </main>

    <script type="module" src="../js/pokemonDetail.js"></script>
</body>
</html>